@inherits LayoutComponentBase

<header class="my-4">
    <h1 class="display-4">WSPR Code Generator</h1>
</header>

<div class="row my-4">

    <div class="col-sm-3">
        <div class="fs-5">Callsign</div>
        <input type="text" class="form-control" @bind-value="Callsign" @bind-value:event="oninput">
    </div>

    <div class="col-sm-3">
        <div class="fs-5">Location</div>
        <input type="text" class="form-control" @bind-value="Location" @bind-value:event="oninput">
    </div>

    <div class="col-sm-3">
        <div class="fs-5">Power</div>
        <select class="form-select" @bind-value="Power" @bind-value:event="oninput">
            <option value="1">111</option>
            <option value="2">222</option>
            <option value="3">333</option>
        </select>
    </div>

    <div class="col-sm-3">
        <div class="fs-5">Message</div>
        <div><code class="fs-6">@MessageText</code></div>
    </div>

</div>

<div class="row my-4">
    <div class="fs-5">Tones</div>
    <div>
        <code class="fs-6">
            @LevelsText;
        </code>
    </div>
</div>


<div class="row my-4">
    <div class="fs-5">Transmission Spectrogram</div>
    <WsprSpectrogram />
</div>

@code{

    // TODO: recalculate when any of these are changed
    private string Callsign;
    private string Location;
    private string Power;

    // TODO: simplify how these data are accessed
    private WsprSharp.WsprTransmission WSPR = new WsprSharp.WsprTransmission("AJ4VD", "EL89", 5);
    private string MessageText => WSPR.GetMessageString();
    private string LevelsText => WSPR.GetLevelsString();

}